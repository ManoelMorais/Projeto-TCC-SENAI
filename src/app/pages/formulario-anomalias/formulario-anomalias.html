
<form [formGroup]="form" (ngSubmit)="submit()" novalidate>

  <!-- Nome -->
   <div>
    <label>Formulário de Anomalias - (SIAA)</label>
   </div>
   <div class="form-group">
     <label>Data/Hora da Solicitação</label>
     <input formControlName="dataSolicitacao" type="datetime-local" readonly class="date_Solicitacao">
   </div>

   <div class="divisor"></div>

  <!-- Nome do solicitante -->
   <div class="form-group">
    <label>Nome do solicitante *</label>
     <app-primary-input
       formControlName="nomeSolicitante"
       label="Nome do solicitante *"
       inputName="nomeSolicitante"
       placeholder="Insira o nome por extenso"
       type="text">
     </app-primary-input>
   </div>

  <!-- DRT -->
   <div class="form-group">
    <label>DRT do solicitante *</label>
    <app-primary-input
      formControlName="drtSolicitante"
      label="DRT do solicitante *"
      inputName="drtSolicitante"
      placeholder="Informe a DRT/Matrícula"
      type="text">
    </app-primary-input>
   </div>

   <div class="divisor"></div>

  <!-- Classificação -->
  <div class="form-group">
    <label>Classificação do serviço *</label>
    <div *ngFor="let item of classificacoes">
      <input type="radio" [value]="item" formControlName="classificacao" id="classificacao-{{item}}">
      <label for="classificacao-{{item}}">{{ item }}</label>
    </div>
  </div>

  <!-- Tipo de serviço (Manutenção Pesada) -->
  <div class="form-group" *ngIf="form.get('classificacao')?.value === 'Manutenção pesada'">
    <label>Tipo de Serviço *</label>
    <div *ngFor="let tipo of tiposManutencao">
      <input type="radio" [value]="tipo" formControlName="tipoServico" id="tipoServico-{{tipo}}">
      <label for="tipoServico-{{tipo}}">{{ tipo }}</label>
    </div>
  </div>

  <!-- Criticidade -->
  <div class="form-group">
    <label>Criticidade do serviço *</label>
    <div *ngFor="let nivel of criticidades">
      <input type="radio" [value]="nivel" formControlName="criticidade" id="criticidade-{{nivel}}">
      <label for="criticidade-{{nivel}}">{{ nivel }}</label>
    </div>
  </div>

  <!-- Tipo da equipe -->
  <div class="form-group">
    <label>Tipo da equipe *</label>
    <div *ngFor="let tipo of tiposEquipe">
      <input type="radio" [value]="tipo" formControlName="tipoEquipe" id="tipoEquipe-{{tipo}}">
      <label for="tipoEquipe-{{tipo}}">{{ tipo }}</label>
    </div>
  </div>

  <div class="divisor"></div>

  <!-- Chave Abrangência -->
   <div class="form-group">
    <label>Chave Abrangência ou Ponto Significativo</label>
    <app-primary-input
      formControlName="chaveAbrangencia"
      label="Chave Abrangência ou Ponto Significativo"
      inputName="chaveAbrangencia"
      placeholder="Digite a chave ou ponto"
      type="text">
    </app-primary-input>
   </div>


   <!-- Departamento Responsável -->
   <div class="form-group">
     <label>Departamento Responsável *</label>
     <div *ngFor="let dep of departamentos">
       <input type="radio" [value]="dep" formControlName="departamento" id="departamento-{{dep}}">
      <label for="departamento-{{dep}}">{{ dep }}</label>
    </div>
  </div>


  <!-- Alimentador -->
  <div class="form-group">
     <label>Alimentador *</label>
     <app-primary-input
     formControlName="alimentador"
     label="Alimentador *"
     inputName="alimentador"
     placeholder="Informe o alimentador"
     type="text">
    </app-primary-input>
  </div>

    <!-- Número de atendimento -->
    <div class="form-group">
      <label>Número de Atendimento ou Ordem de Serviço Criada *</label>
      <app-primary-input
      formControlName="numeroAtendimento"
      label="Número de Atendimento ou Ordem de Serviço Criada *"
      inputName="numeroAtendimento"
      placeholder="Digite o número da OS"
      type="text">
  </app-primary-input>
</div>

<div class="divisor"></div>

<!-- Localização -->
<app-map></app-map>

 <!-- Observações -->
 <div class="form-group">
  <label>Observações da Solicitação</label>
  <textarea formControlName="observacoes" placeholder="Insira suas observações"></textarea>
</div>

<!-- Upload de fotos -->
<div class="form-group">
  <label>Adicionar Fotos da Anomalia</label>
  <input type="file" (change)="onFileSelected($event)" multiple accept="image/*">
  <div *ngIf="arquivos.length > 0" class="file-list">
    <p *ngFor="let file of arquivos">{{ file.name }}</p>
  </div>
</div>

<div class="form-actions">
  <button type="submit" [disabled]="form.invalid">Enviar</button>
  <button type="button" (click)="voltar()">Voltar</button>
</div>

</form>
